(this["webpackJsonpfsh-online"]=this["webpackJsonpfsh-online"]||[]).push([[0],{1202:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=1202},1212:function(e,t){},1214:function(e,t){},1220:function(e,t){},1222:function(e,t){},1238:function(e,t,n){"use strict";n.r(t);var o=n(0),i=n.n(o),s=n(25),r=n.n(s),a=(n(523),n(35)),c=n(98),l=n(3);function d(e){return Object(l.jsxs)(a.c,{children:[Object(l.jsx)(a.a,{path:"/share/:text",component:c.b}),Object(l.jsx)(a.a,{path:"/gist/:id",component:c.b}),Object(l.jsx)(a.a,{path:"",exact:!0,component:c.b})]})}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var u=n(309);r.a.render(Object(l.jsx)(i.a.StrictMode,{children:Object(l.jsx)(u.a,{basename:"/",children:Object(l.jsx)(d,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((e=>{e.unregister()})).catch((e=>{console.error(e.message)}))},131:function(e,t,n){"use strict";n.d(t,"a",(function(){return G}));var o=n(0),i=n(8),s=n(9),r=n(1256),a=n(1241),c=n(1307),l=n(163),d=n(507),u=n(1289),p=n(1292),h=n(1293),g=n(1294),f=n(1295),x=n(495),j=n(313),b=n(62),m=n.n(b),O=n(98),v=n(94),y=n(310),S=n(1288),w=n(1242),C=n(1244),k=n(1245),I=n(1246),$=n(1247),N=n(1290),T=n(1304),H=n(209),F=n(3);const E=Object(j.a)((e=>({iconButton:{color:e.palette.common.white,padding:"3px"},textArea:{width:"100%",color:e.palette.text.primary,fontWeight:"bold"},copyBox:{backgroundColor:e.palette.common.lightGrey,borderRadius:2,display:"flex",justifyContent:"space-between",alignItems:"center",paddingLeft:"3%",textOverflow:"ellipsis"}})));function D(e){const t=E(),[n,i]=Object(o.useState)(!1),[s,c]=Object(o.useState)(!1),[p,h]=Object(o.useState)(!1),[g,f]=Object(o.useState)(!1),[x,j]=Object(o.useState)("Copy to Clipboard"),[{fshCopied:b,fshCopyButton:m},D]=Object(o.useState)({fshCopied:!1,fshCopyButton:"Copy FSH to Clipboard"}),[R,B]=Object(o.useState)(),[G,L]=Object(o.useState)(),[M,W]=Object(o.useState)(!0),P=()=>{i(!1),h(!0),L(""),D({fshCopied:!1,fshCopyButton:"Copy FSH to Clipboard"})},V=()=>{h(!1),c(!1)},U=()=>{f(!1)},A=()=>{i(!1),c(!1)};return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(r.a,{title:"Share FSH",placement:"top",arrow:!0,children:Object(F.jsx)(a.a,{name:"Share FSH",className:t.iconButton,onClick:async()=>{var t,n,o,s;let r;var a,l,d,u;null!==(t=e.config)&&void 0!==t&&t.canonical||null!==(n=e.config)&&void 0!==n&&n.version||(null===(o=e.config)||void 0===o?void 0:o.fhirVersion.length)>0||null!==(s=e.config)&&void 0!==s&&s.dependencies?r=Object(v.deflateSync)(JSON.stringify({c:null===(a=e.config)||void 0===a?void 0:a.canonical,v:null===(l=e.config)||void 0===l?void 0:l.version,f:null===(d=e.config)||void 0===d?void 0:d.fhirVersion,d:null===(u=e.config)||void 0===u?void 0:u.dependencies})+"\n"+e.shareText).toString("base64"):r=Object(v.deflateSync)(e.shareText).toString("base64");const p=`https://fshschool.org/FSHOnline/#/share/${r}`,h=await Object(H.b)(p);if(!0===h.errorNeeded)c(!0),P();else{const e=h.link.slice(15);B(`https://fshschool.org/FSHOnline/#/share/${e}`),i(!0),j("Copy to Clipboard"),W(!0)}},children:Object(F.jsx)(S.a,{fontSize:"small",style:{transform:"rotate(-45deg)"}})})}),Object(F.jsxs)(w.a,{open:n,onClose:A,"aria-labelledby":"form-dialog-title",maxWidth:"md",fullWidth:!0,children:[Object(F.jsx)(C.a,{id:"form-dialog-title",children:"Share"}),Object(F.jsxs)(k.a,{children:[Object(F.jsx)(I.a,{children:"Use this link to share your FSH with others!"}),Object(F.jsxs)(d.a,{className:t.copyBox,children:[Object(F.jsx)(d.a,{maxWidth:"90%",textOverflow:"ellipsis",overflow:"hidden",children:R}),Object(F.jsx)(r.a,{title:x,placement:"top",arrow:!0,children:Object(F.jsx)(y.CopyToClipboard,{text:R,onCopy:()=>j("Link Copied"),children:Object(F.jsx)(a.a,{style:{borderRadius:"0%"},children:Object(F.jsx)(u.a,{})})})})]})]}),Object(F.jsxs)($.a,{children:[M&&Object(F.jsx)(l.a,{onClick:P,color:"primary",style:{align:"left"},children:"Create Link with Gist"}),Object(F.jsx)(d.a,{style:{flex:"1 0 0",hidden:!0}}),Object(F.jsx)(l.a,{onClick:A,color:"primary",children:"Done"})]})]}),Object(F.jsxs)(w.a,{open:p,onClose:V,"aria-labelledby":"alert-dialog-title",maxWidth:"md",fullWidth:!0,children:[Object(F.jsx)(C.a,{id:"alert-dialog-title",children:"Share with Gist"}),s&&Object(F.jsx)(k.a,{style:{color:O.c.palette.common.red},children:"Your FSH content is too long to share directly. Please use a Gist to share."}),Object(F.jsxs)(k.a,{children:["Create a"," ",Object(F.jsx)(N.a,{id:"gistURL",href:"https://gist.github.com/",target:"_blank",children:"Gist"})," ","and paste the URL below to generate a shareable FSH Online link.",Object(F.jsx)(T.a,{id:"gistURLText",label:"Gist URL",fullWidth:!0,onChange:e=>{var t;const n=null===(t=e.target.value.match(/gist\.github\.com\/[^/]+\/(.+)/))||void 0===t?void 0:t[1];n&&L(`https://fshschool.org/FSHOnline/#/gist/${n}`)}})]}),Object(F.jsxs)($.a,{style:{bottom:0,right:0},children:[Object(F.jsx)(l.a,{onClick:V,color:"primary",children:"Cancel"}),Object(F.jsx)(d.a,{style:{flex:"1 0 0",hidden:!0}}),Object(F.jsx)(y.CopyToClipboard,{text:e.shareText,onCopy:()=>{D({fshCopied:!0,fshCopyButton:"FSH Copied to Clipboard"})},style:{align:"left"},children:Object(F.jsx)(l.a,{color:b?"secondary":"primary",children:m})}),Object(F.jsx)(l.a,{color:"primary",onClick:()=>{G?(V(),B(G),i(!0),j("Copy to Clipboard"),W(!1)):f(!0)},style:{align:"left"},children:"Generate Link from Gist"})]})]}),Object(F.jsxs)(w.a,{open:g,onClose:U,"aria-labelledby":"alert-dialog-title",maxWidth:"lg",children:[Object(F.jsx)(C.a,{id:"alert-dialog-title",children:"Error Creating Gist Link"}),Object(F.jsx)(k.a,{children:Object(F.jsx)(I.a,{children:"Could not generate a link from your Gist URL. Ensure the URL is valid."})}),Object(F.jsx)($.a,{children:Object(F.jsx)(l.a,{onClick:U,color:"primary",autoFocus:!0,children:"Keep Swimming!"})})]})]})}n(581),n(582),n(583),n(584),n(585);n(586),n(587),n(588),n(589),n(590),n(592),n(593),n(594),n(595),m.a.defineSimpleMode("fsh",{meta:{lineComment:"//"},start:[{regex:/"(?:[^\\]|\\.)*?(?:"|$)/,token:"atom"},{regex:/\b(Alias|Characteristics|Context|CodeSystem|Expression|Extension|Description|Id|Instance|InstanceOf|Invariant|Logical|Mapping|Mixins|Parent|Profile|Resource|RuleSet|Severity|Source|Target|Title|Usage|ValueSet|XPath)(?=\s*:)\b/,token:"keyword"},{regex:/(\s|^)(and|codes|contains|descendent-of|exclude|exists|from system|from|generalizes|include|in|insert|is-a|is-not-a|named|not-in|obeys|only|or|regex|units|valueset|where|D|MS|N|SU|TU|\\?!)(\s|$)/,token:"def"},{regex:/(\(\s*)(exactly|example|extensible|preferred|required)(\s*\))/,token:"def"},{regex:/\b(CodeableReference|Reference|Canonical)\s*\(/,push:"closingParen",token:"atom"},{regex:/\*|->|=|\+|:/,token:"def"},{regex:/\b(https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_+.~#?&//=]*))\b/,token:"atom"},{regex:/(\s|^)(true|false)(\s|$)/,token:"string"},{regex:/(\s|^)(-?\d+(\.\d+)?)(\s|^)/,token:"string"},{regex:/#"(?:\\.|[^\\"])*"/,token:"string"},{regex:/#[^\s]*/,token:"string"},{regex:/'.*'/,token:"string"},{regex:/\s\/\/.*/,token:"comment"},{regex:/\/\/.*/,token:"comment",sol:!0},{regex:/\/\*/,token:"comment",next:"comment"}],closingParen:[{regex:/\)/,pop:!0,token:"atom"}],comment:[{regex:/.*?\*\//,token:"comment",next:"start"},{regex:/.*/,token:"comment"}]});const R=200,B=Object(j.a)((e=>({box:{height:"100%"},header:{fontFamily:"Open Sans",color:e.palette.common.white,background:e.palette.common.darkerGrey,padding:"0px",paddingLeft:"29px",height:"34px",display:"flex",justifyContent:"space-between",transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},headerShift:{width:"calc(100% - 200px - 29px)",transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginRight:R},headerLabel:{lineHeight:"34px",float:"left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},headerActionGroup:{paddingRight:"10px"},headerActions:{alignItems:"center",display:"flex"},iconButton:{color:e.palette.common.white,padding:"3px"},drawer:{width:R,flexShrink:0},drawerPaper:{width:R,border:"none",height:"calc(100vh - 116px - 34px)",top:"116px"},drawerPaperExpandedConsole:{height:"calc(100vh - 116px - 300px)"},drawerHeader:{display:"flex",alignItems:"center",justifyContent:"flex-start",color:e.palette.common.white,background:e.palette.common.darkerGrey,height:"34px",minHeight:"34px"},drawerHeaderIcon:{padding:"0px",color:e.palette.common.white,background:e.palette.success.main,"&:hover":{background:e.palette.success.light},borderRadius:0,height:"100%",width:"34px",minWidth:"34px"},content:{flexGrow:1,width:"100%",transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},contentShift:{width:"calc(100% - 200px)",transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginRight:0}})));function G(e){const t=B(),n=Object(o.useContext)(O.a),[j,b]=Object(o.useState)(!0),m=()=>{b(!0)},v=()=>{b(!1)};const y=function(e,n,o){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Object(F.jsx)(r.a,{title:Object(s.upperFirst)(n),placement:"top",arrow:!0,children:Object(F.jsx)(a.a,{name:n,className:t.iconButton,"aria-label":n,onClick:o,children:Object(F.jsx)(e,{fontSize:"small",style:i})})})};return Object(F.jsxs)(d.a,{className:t.box,children:[Object(F.jsxs)("div",{className:Object(i.a)(t.header,{[t.headerShift]:e.renderDrawer&&j}),children:[Object(F.jsx)("div",{title:e.name,className:t.headerLabel,children:e.name}),Object(F.jsxs)("div",{className:t.headerActions,children:[Object(F.jsxs)("div",{className:t.headerActionGroup,children:["fsh"===e.mode&&!e.isExamples&&Object(F.jsx)(D,{shareText:e.value,config:e.config}),e.copy&&y(u.a,"copy",(()=>{})),e.save&&y(p.a,"save",e.save),e.delete&&y(h.a,"delete",e.delete)]}),e.renderDrawer&&!j&&Object(F.jsx)(a.a,{name:"expand",className:t.drawerHeaderIcon,"aria-label":"expand",onClick:m,children:Object(F.jsx)(g.a,{})})]})]}),Object(F.jsx)(x.UnControlled,{className:Object(i.a)("react-codemirror2",e.renderDrawer&&t.content,{[t.contentShift]:e.renderDrawer&&j}),value:e.initialText,options:{mode:e.mode,theme:"material",placeholder:e.placeholder,scrollbarStyle:"overlay",autoCloseBrackets:!0,lineNumbers:!0,foldGutter:!0,readOnly:e.isExamples,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],extraKeys:{Tab:e=>{e.replaceSelection("  ")},"Ctrl-/":"toggleComment","Cmd-/":"toggleComment","Ctrl-Q":e=>{e.foldCode(e.getCursor())}}},onChange:(t,n,o)=>{var i;i=o,e.updateTextValue(i)}}),e.renderDrawer&&Object(F.jsxs)(c.a,{className:t.drawer,"data-testid":"editor-drawer",variant:"persistent",anchor:"right",open:j,classes:{paper:Object(i.a)(t.drawerPaper,n&&t.drawerPaperExpandedConsole)},children:[Object(F.jsx)("div",{className:t.drawerHeader,children:Object(F.jsx)(l.a,{name:"collapse","aria-label":"collapse",className:t.drawerHeaderIcon,onClick:v,children:Object(F.jsx)(f.a,{})})}),e.renderDrawer()]})]})}},209:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s}));const o=new(0,n(548).BitlyClient)("b001e5ac78566bce29e6bb5ad43e0782a10632a7");async function i(e){return new Promise((t=>{o.shorten(e).then((function(e){t({link:e.link,errorNeeded:!1})})).catch((function(e){t({link:void 0,errorNeeded:!0})}))}))}async function s(e){const t=`https://bit.ly/${e.text}`;return new Promise((e=>{o.expand(t).then((function(t){e(t)})).catch((function(e){console.error(e)}))}))}},217:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));n(0);var o=n(1242),i=n(1244),s=n(1245),r=n(1246),a=n(1247),c=n(163),l=n(3);function d(e){return Object(l.jsxs)(o.a,{open:e.isOpen,onClose:e.handleCloseModal,"aria-labelledby":"delete-confirmation-dialog",children:[Object(l.jsxs)(i.a,{id:"delete-confirmation-dialog-title",children:["Delete ",e.title]}),Object(l.jsx)(s.a,{children:Object(l.jsxs)(r.a,{children:["Are you sure you want to delete ",e.item,"? This action cannot be undone."]})}),Object(l.jsxs)(a.a,{children:[Object(l.jsx)(c.a,{onClick:e.handleCloseModal,color:"primary",autoFocus:!0,children:"Cancel"}),Object(l.jsx)(c.a,{onClick:e.handleDelete,color:"secondary",children:"Delete"})]})]})}},494:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var o=n(0),i=n(126),s=n.n(i),r=n(9),a=n(313),c=n(8),l=n(1248),d=n(506),u=n(1256),p=n(163),h=n(1249),g=n(1250),f=n(131),x=n(217),j=n(3);const b=Object(a.a)((e=>({fileTreeContent:{overflowY:"scroll",height:"100%"},button:{color:e.palette.common.white,background:e.palette.success.main,"&:hover":{background:e.palette.success.dark},border:"8px solid white",fontSize:"13px",width:"100%"},list:{padding:"8px",paddingLeft:"0px",paddingBottom:"0px",fontSize:"13px"},listItemError:{paddingTop:"5px",paddingBottom:"5px",margin:0},listItem:{background:e.palette.common.lightestGrey,paddingTop:"5px",paddingBottom:"5px",marginTop:"5px",marginBottom:"5px",paddingLeft:"5px",margin:0,"&:hover":{background:e.palette.common.lightGrey},display:"block",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},listItemSelected:{background:e.palette.common.editorGrey,color:e.palette.common.white,"&:hover":{background:e.palette.common.darkestGrey}},listHeader:{padding:"5px",paddingLeft:"15px"},listIcon:{color:e.palette.success.main,verticalAlign:"middle",fontSize:"13px",paddingLeft:"3px",paddingRight:"3px"},listIconError:{color:e.palette.common.red},blankIcon:{paddingLeft:"19px"}}))),m=e=>{if("ValueSet"===e.resourceType||"CodeSystem"===e.resourceType)return e.resourceType;if("StructureDefinition"===e.resourceType)if("specialization"===e.derivation){if("resource"===e.kind)return"Resource";if("logical"===e.kind)return"Logical Model"}else if("constraint"===e.derivation){if("complex-type"===e.kind&&"Extension"===e.type)return"Extension";if(["resource","complex-type","primitive-type","logical"].includes(e.kind))return"Profile"}return null!=e.resourceType?"Instance":null},O=e=>e.id?e.id:e.resourceType?`Instance of ${e.resourceType.substring(e.resourceType.lastIndexOf("/")+1)}`:"Untitled",v=e=>[...e.profiles,...e.extensions,...e.logicals,...e.resources,...e.instances,...e.valueSets,...e.codeSystems].map((e=>({resourceType:m(e),id:O(e),def:JSON.stringify(e,null,2)})));function y(e){const t=b(),[n,i]=Object(o.useState)(""),[a,y]=Object(o.useState)([{resourceType:null,id:"Untitled",def:null}]),{setShowNewText:S,updateTextValue:w}=e,[C,k]=Object(o.useState)(0),[I,$]=Object(o.useState)([]),[N,T]=Object(o.useState)(!1);Object(o.useEffect)((()=>{if(e.showNewText&&!Object(r.isEqual)(e.text,[""])){let n;S(!1);try{n=JSON.parse(e.text)}catch(t){n={profiles:[],extensions:[],logicals:[],resources:[],instances:[],valueSets:[],codeSystems:[]}}const o=v(n);y(o),k(0),i(o.length>0?o[0].def:""),w(o)}else e.isWaiting&&(i(null),y([]))}),[e.text,e.showNewText,e.isWaiting,w,S]);const H=()=>{const t=[...a];t.push({resourceType:null,id:"Untitled",def:null}),k(t.length-1),y(t),i(null),e.updateTextValue(t)},F=()=>{const t=C,n=[...a];if(n.splice(t,1),0===n.length&&n.push({resourceType:null,id:"Untitled",def:null}),y(n),t<=C){let e=0;t<C&&(e=C-1),k(e);const o=n.length>0?n[e].def:null;i(o)}const o=[...I];I.includes(t)&&o.splice(I.indexOf(t),1);const s=o.map((e=>e<t?e:e-1));$(s),T(!1),e.updateTextValue(n)},E=()=>{T(!1)},D=()=>{const e=["Profiles","Extensions","Logical Models","Resources","ValueSets","CodeSystems","Instances","Unknown Type"],n=Object(r.groupBy)(a,(e=>e&&e.resourceType?`${e.resourceType}s`:"Unknown Type"));return Object.keys(n).sort(((t,n)=>e.indexOf(t)-e.indexOf(n))).map((e=>Object(j.jsxs)(l.a,{component:"nav",className:t.list,children:[Object(j.jsx)("div",{className:t.listHeader,children:e}),n[e].sort(((e,t)=>{const n=e.id?e.id:"Untitled",o=t.id?t.id:"Untitled";return n.toLowerCase()<o.toLowerCase()?-1:n.toLowerCase()>o.toLowerCase()?1:0})).map(((n,o)=>{const s=a.indexOf(n),r=I.includes(s);return Object(j.jsxs)(d.a,{button:!0,title:(null===n||void 0===n?void 0:n.id)||"Untitled","data-testid":`${e}-defId`,className:Object(c.a)(t.listItem,r&&t.listItemError,s===C&&t.listItemSelected),onClick:()=>{k(s),i(n.def)},children:[I.includes(s)?Object(j.jsx)(u.a,{title:"Invalid JSON",placement:"top",arrow:!0,children:Object(j.jsx)(h.a,{className:Object(c.a)(t.listIcon,t.listIconError)})}):Object(j.jsx)("span",{className:t.blankIcon}),(null===n||void 0===n?void 0:n.id)||"Untitled"]},o)}))]},e)))},R=a.length>0?a[C].def:null,B=`${a.length>0?a[C].id:"Untitled"}`;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(f.a,{name:`FHIR JSON: ${B}`,value:R,initialText:n,updateTextValue:t=>{if(e.isWaiting)return;const o=[...a];try{const e=""===t?{}:JSON.parse(t);if(I.includes(C)){const e=[...I];e.splice(I.indexOf(C),1),$(e)}a[C]||(o[C]={resourceType:m(e),id:O(e)}),a[C]&&e.resourceType===a[C].resourceType||(o[C].resourceType=m(e)),a[C]&&e.id===a[C].id||(o[C].id=O(e))}catch(s){if(!I.includes(C)){const e=[...I];e.push(C),$(e)}}o[C]&&(o[C].def=t),y(o),e.updateTextValue(o),null===n&&i(t)},mode:"application/json",placeholder:e.isWaiting?"Loading...":"Paste or edit single FHIR JSON artifact here... \nCreate additional FHIR JSON artifacts to the right.",renderDrawer:()=>Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(p.a,{className:t.button,startIcon:Object(j.jsx)(g.a,{}),onClick:H,children:"New JSON Editor"}),Object(j.jsx)("div",{className:t.fileTreeContent,children:D()})]}),isExamples:!1,delete:()=>{T(!0)},save:()=>((e,t)=>{var n,o;let i;try{i=JSON.parse(e)}catch{}s.a.saveAs(new Blob([e]),null!==(n=i)&&void 0!==n&&n.resourceType&&null!==(o=i)&&void 0!==o&&o.id?`${i.resourceType}-${i.id}.json`:`${B}.json`)})(R)}),N&&(()=>{const e=a[C];if(!e)return;const t=e.resourceType||"Unknown Type",n=e.id||"Untitled";return Object(j.jsx)(x.a,{title:"FHIR JSON",item:`${t} ${n}`,isOpen:N,handleCloseModal:E,handleDelete:F})})()]})}},497:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var o=n(0),i=n(126),s=n.n(i),r=n(131),a=n(217),c=n(3);function l(e){const[t,n]=Object(o.useState)(!1),i=()=>{n(!t)};return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(r.a,{name:"FSH",isExamples:!1,value:e.text,initialText:e.initialText,updateTextValue:e.updateTextValue,mode:"fsh",placeholder:e.isWaiting?"Loading...":"Paste or edit FSH here...",delete:i,save:()=>{s.a.saveAs(new Blob([e.text]),"FSH.fsh")},config:e.config}),t&&Object(c.jsx)(a.a,{title:"FHIR Shorthand",item:"all FSH",isOpen:t,handleCloseModal:i,handleDelete:()=>{n(!1),e.setInitialText("")}})]})}},498:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var o=n(0),i=n(313),s=n(507),r=n(1241),a=n(163),c=n(1251),l=n(1252),d=n(3);const u=Object(i.a)((e=>({consoleControls:{background:e.palette.common.darkestGrey,height:"34px",boxSizing:"border-box",display:"flex;",alignItems:"center",justifyContent:"left"},box:{paddingLeft:"29px",color:e.palette.common.white,background:e.palette.common.darkestGrey,height:"calc(100% - 34px)",overflow:"scroll",boxSizing:"border-box"},button:{marginRight:"10px",color:e.palette.common.white,textTransform:"none",padding:0},problemsButton:{padding:0,color:e.palette.common.white,textTransform:"none"},expandIcon:{width:"29px",color:e.palette.common.white,padding:0},pre:{margin:"0px"},circle:{"border-radius":"50%","border-style":"solid","border-width":"2px","min-width":"20px",height:"20px",paddingLeft:1,paddingRight:1,background:"#263238","align-items":"center",display:"flex",marginLeft:4,"justify-content":"center",padding:0}})));function p(e){const t=u(),[n,i]=Object(o.useState)(!1),{problemCount:p,setExpandConsole:h}=e;Object(o.useEffect)((()=>{p&&h(!0)}),[p,h]);return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)(s.a,{className:t.consoleControls,children:[Object(d.jsx)(r.a,{onClick:()=>{e.setExpandConsole(!e.expandConsole)},"aria-label":e.expandConsole?"collapse console":"expand console",className:t.expandIcon,children:e.expandConsole?Object(d.jsx)(c.a,{}):Object(d.jsx)(l.a,{})}),Object(d.jsx)(a.a,{onClick:()=>{i(!1),e.setExpandConsole(!0)},className:t.button,children:Object(d.jsx)("p",{style:{borderBottom:e.expandConsole&&!n?"1px solid white":"none",margin:"0"},children:"Console"})}),Object(d.jsxs)(a.a,{onClick:()=>{i(!0),e.setExpandConsole(!0)},className:t.problemsButton,children:[Object(d.jsx)("p",{style:{borderBottom:e.expandConsole&&n?`1px solid ${e.problemCount?e.problemColor:"white"}`:"none",margin:"0"},children:"Problems"}),Object(d.jsx)("div",{className:t.circle,style:{borderColor:`${e.problemCount?e.problemColor:"white"}`},children:e.problemCount})]})]}),Object(d.jsx)(s.a,{style:{display:e.expandConsole?"block":"none"},className:t.box,children:n?e.problemMessages.map(((e,n)=>Object(d.jsx)("pre",{className:t.pre,children:e},n))):e.consoleMessages.map(((e,n)=>Object(d.jsx)("pre",{className:t.pre,children:e},n)))})]})}},500:function(e,t,n){"use strict";n.d(t,"a",(function(){return fe}));var o=n(0),i=n(8),s=n(313),r=n(1297),a=n(1298),c=n(1292),l=n(1299),d=n(1251),u=n(1295),p=n(1303),h=n(1256),g=n(507),f=n(226),x=n(163),j=n(1296),b=n(1242),m=n(1244),O=n(1245),v=n(1246),y=n(1304),S=n(1300),w=n(1301),C=n(1306),k=n(1291),I=n(1247),$=n(1290),N=n(9),T=n(11),H=n(77),F=n(499),E=n.n(F),D=n(94),R=n.n(D),B=n(160),G=n.n(B);let L=T.utils.logger;function M(e){"sushi"===e?L=T.utils.logger:"gofsh"===e&&(L=H.utils.logger)}function W(e,t,n){let o={resourceArr:e,emptyDependencies:[]};return new Promise((e=>{G.a.get(`https://packages.fhir.org/${t}/${n}`,(function(i){const s=E.a.extract();s.on("entry",(function(e,t,n){let i="";t.on("data",(function(e){i+=e.toString()})),t.on("end",(function(){try{const e=JSON.parse(i);e.resourceType&&o.resourceArr.push(e)}catch{}n()})),t.resume()})),s.on("finish",(function(){e(o)})),i.statusCode<400?(i.pipe(R.a.createGunzip()).pipe(s),L.info(`Downloaded ${t}#${n}`)):("current"===n||"dev"===n?L.error('FSHOnline does not currently support "current" or "dev" package versions'):(L.error(`Your dependency ${t}#${n} could not be loaded. Your output may be invalid.`),o.emptyDependencies.push(`${t}${n}`)),e(o))})).on("error",(i=>{L.error("An error occurred while downloading FHIR packages. Your output may be invalid: ",i),o.emptyDependencies.push(`${t}${n}`),e(o)}))}))}function P(e,t,n,o){return new Promise(((i,s)=>{const r=e.transaction([`${n}${o}`],"readwrite");r.oncomplete=()=>{i()},r.onerror=e=>{s(e)};const a=r.objectStore(`${n}${o}`,{keyPath:["id","resourceType"]});t.forEach((e=>{e.id&&e.resourceType&&a.put(e)}))}))}function V(e,t,n,o){return new Promise(((i,s)=>{let r=!1;const a=t.transaction([`${n}${o}`],"readonly").objectStore(`${n}${o}`,{keyPath:["id","resourceType"]}).openCursor();a.onerror=function(){s("There is an error getting data out!")},a.onsuccess=function(){const t=a.result;t?(r=!0,e.add(t.value),t.continue()):(r&&L.info(`Loaded package ${n}#${o}`),i(e))}}))}const U=T.fhirdefs.FHIRDefinitions,A=T.sushiImport.FSHTank,J=T.sushiImport.importText;async function z(e,t){t=await async function(e){const t=await Promise.all(e.map((async e=>async function(e){const{packageId:t,version:n}=e;let o=n;"latest"===n&&await function(e){return new Promise(((t,n)=>{const{packageId:o,isAutomatic:i}=e;G.a.get(`https://packages.fhir.org/${o}`,(function(e){let s="";e.on("data",(function(e){s+=e})),e.on("end",(function(){var e,r;const a=JSON.parse(s);null!==a&&void 0!==a&&null!==(e=a["dist-tags"])&&void 0!==e&&null!==(r=e.latest)&&void 0!==r&&r.length?t(a["dist-tags"].latest):(L.error(`Could not determine latest released version of ${i?"automatically-loaded dependency ":""}${o}.`),n("no latest version found"))}))}))}))}(e).then((e=>{o=e})).catch((()=>{o=null}));return{packageId:t,version:o}}(e))));return t.filter((e=>null!==e.version))}(t);let n=await function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FSH Playground Dependencies",n={shouldUpdate:!1,version:1};return new Promise(((o,i)=>{let s=null;const r=indexedDB.open(t);r.onsuccess=function(t){s=t.target.result;let i=s.objectStoreNames;n.version=s.version,0===i.length||0===e.length||i.contains("resources")?(n.shouldUpdate=!0,s.close(),o(n)):(e.forEach((e=>{const{packageId:t,version:o}=e;i.contains(`${t}${o}`)||(n.shouldUpdate=!0)})),s.close(),o(n))},r.onupgradeneeded=function(e){s=e.target.result},r.onerror=function(e){i(e)}}))}(t),o={defs:e,emptyDependencies:[]};return n.shouldUpdate?(o=await _(e,n.version+1,t),e=o.defs):(o=await _(e,n.version,t),e=o.defs),await function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"FSH Playground Dependencies";const o=Object(N.flatten)(e);return new Promise(((e,i)=>{let s=null;const r=indexedDB.open(n,t);r.onsuccess=function(t){s=t.target.result,s.close(),e()},r.onupgradeneeded=async function(e){s=e.target.result;let t=s.objectStoreNames;for(let n of t)await new Promise((t=>{e.target.transaction.objectStore(`${n}`).getAll().onsuccess=e=>{0!==e.target.result.length||o.includes(n)||o.push(n),t()}}));for(let n=0;n<o.length;n++)t.contains(o[n])&&s.deleteObjectStore(o[n])},r.onerror=function(e){i(e)}}))}(o.emptyDependencies,n.version+2),e}async function _(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"FSH Playground Dependencies",i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return new Promise(((s,r)=>{let a=null,c=[],l={defs:U,emptyDependencies:[]};const d=indexedDB.open(o,t);d.onsuccess=async function(t){a=t.target.result;for(let o=0;o<n.length;o++){let t=[];i=!1;const{packageId:s,version:r}=n[o];if(c.includes(`${s}${r}`)&&(i=!0),i){let e=await W(t,s,r);0!==e.emptyDependencies.length&&l.emptyDependencies.push(e.emptyDependencies),await P(a,e.resourceArr,s,r)}l.defs=await V(e,a,s,r)}a.close(),s(l)},d.onupgradeneeded=function(e){a=e.target.result;let t=a.objectStoreNames;t.contains("resources")&&a.deleteObjectStore("resources");for(let o=0;o<n.length;o++){const{packageId:e,version:i}=n[o];t.contains(`${e}${i}`)||(a.createObjectStore(`${e}${i}`,{keyPath:["id","resourceType"]}),c.push(`${e}${i}`))}},d.onerror=function(e){r(e)}}))}function X(e){return e.split(",").map((e=>{const t=e.trim();if(""===t)return t;const[n,o]=t.split("#");return{packageId:n,version:o}})).filter((e=>e))}const Y=T.sushiImport.FSHTank,q=T.sushiImport.RawFSH,K=T.sushiExport.exportFHIR,Z=T.utils.stats,Q=H.utils.stats,ee=T.utils.getRandomPun,te=T.utils.Type,ne=T.fhirdefs.FHIRDefinitions;async function oe(e,t){var n,o;Q.reset(),M("gofsh");const i=[];e.forEach(((e,t)=>{const n=`Input_${t}`;try{var o;if(!(e=JSON.parse(e)).resourceType)L.error(`FHIR JSON ${null!==(o=e.id)&&void 0!==o?o:n} is missing the required "resourceType" property`)}catch(s){return void L.error(`Could not parse ${n} to JSON`)}H.utils.isProcessableContent(e,n)&&i.push(new H.processor.WildFHIR({content:e},n))}));const s=new H.processor.LakeOfFHIR(i);let r=new ne;const a=new H.utils.MasterFisher(s,r),c=new H.processor.FHIRProcessor(s,a),l=t.dependencies.map((e=>e.replace("#","@"))),d=c.processConfig(null!==l&&void 0!==l?l:[]);let u=null!==d&&void 0!==d&&d.config.dependencies?null===d||void 0===d?void 0:d.config.dependencies.map((e=>`${e.packageId}#${e.version}`)):[];u=X(u.join(","));const p=se(u,null!==(n=null===d||void 0===d?void 0:d.config.fhirVersion[0])&&void 0!==n?n:"4.0.1");u.push(...p),r=await z(r,u);const h=await H.utils.getResources(c,d,{indent:t.indent}),g=new H.gofshExport.FSHExporter(h).apiExport("string");return L.info("Done converting definitions"),function(e){const t=Object(N.pad)(e.profiles.length.toString(),18),n=Object(N.pad)(e.extensions.length.toString(),17),o=Object(N.pad)(e.logicals.length.toString(),18),i=Object(N.pad)(e.resources.length.toString(),18),s=Object(N.pad)(e.valueSets.length.toString(),17),r=Object(N.pad)(e.codeSystems.length.toString(),18),a=Object(N.pad)(e.instances.length.toString(),18),c=Object(N.pad)(e.invariants.length.toString(),17),l=Object(N.pad)(e.mappings.length.toString(),18),d=Object(N.pad)(`${Q.numError} Error${1!==Q.numError?"s":""}`,12),u=Object(N.padStart)(`${Q.numWarn} Warning${1!==Q.numWarn?"s":""}`,12),p=Object(N.padEnd)(ee(Q.numError,Q.numWarn),37),h=["\u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550 GoFSH RESULTS \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557","\u2551 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e \u2551","\u2551 \u2502      Profiles      \u2502    Extensions     \u2502      Logicals      \u2502 \u2551","\u2551 \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524 \u2551",`\u2551 \u2502 ${t} \u2502 ${n} \u2502 ${o} \u2502 \u2551`,"\u2551 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f \u2551","\u2551 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e \u2551","\u2551 \u2502     Resources      \u2502     ValueSets     \u2502     CodeSystems    \u2502 \u2551","\u2551 \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524 \u2551",`\u2551 \u2502 ${i} \u2502 ${s} \u2502 ${r} \u2502 \u2551`,"\u2551 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f \u2551","\u2551 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e \u2551","\u2551 \u2502     Instances      \u2502    Invariants     \u2502      Mappings      \u2502 \u2551","\u2551 \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524 \u2551",`\u2551 \u2502 ${a} \u2502 ${c} \u2502 ${l} \u2502 \u2551`,"\u2551 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f \u2551","\u2551                                                                 \u2551","\u2560\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2563",`\u2551 ${p} ${d} ${u} \u2551`,"\u255a\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u255d"];console.log(" "),h.forEach((e=>console.log(e)))}(h),{fsh:g,config:null!==(o=null===d||void 0===d?void 0:d.config)&&void 0!==o?o:{}}}async function ie(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];Z.reset(),M("sushi");let o=new ne;const i=se(n,t.fhirVersion[0]);n.push(...i),o=await z(o,n);let s=Y;try{s=function(e,t){L.info("Importing FSH text...");const n=J(e);return new A(n,t)}([new q(e)],t)}catch(l){return void L.error("Something went wrong when importing the FSH definitions")}const r=o.fishForFHIR("StructureDefinition",te.Resource);if((null===r||void 0===r?void 0:r.version)!==t.fhirVersion[0])return void L.error("StructureDefinition resource not found. The FHIR package in the browser cache may be corrupt. Clear cookies and site data on this webpage to reload the FHIR package.");L.info("Converting FSH to FHIR resources...");const a=K(s,o),c=a.profiles.length+a.extensions.length+a.logicals.length+a.resources.length+a.instances.filter((e=>"Inline"!==e._instanceMeta.usage)).length+a.valueSets.length+a.codeSystems.length;return L.info(`Exported ${c} FHIR resources as JSON.`),console.log(" "),function(e){const t=Z.numError,n=Z.numWarn,o=Object(N.pad)(e.profiles.length.toString(),13),i=Object(N.pad)(e.extensions.length.toString(),12),s=Object(N.pad)(e.logicals.length.toString(),12),r=Object(N.pad)(e.resources.length.toString(),13),a=Object(N.pad)(e.valueSets.length.toString(),18),c=Object(N.pad)(e.codeSystems.length.toString(),17),l=Object(N.pad)(e.instances.length.toString(),18),d=Object(N.pad)(`${t} Error${1!==t?"s":""}`,13),u=Object(N.padStart)(`${n} Warning${1!==n?"s":""}`,12),p=Object(N.padEnd)(ee(t,n),36);["\u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550 SUSHI RESULTS \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557","\u2551 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e \u2551","\u2551 \u2502    Profiles   \u2502  Extensions  \u2502   Logicals   \u2502   Resources   \u2502 \u2551","\u2551 \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524 \u2551",`\u2551 \u2502 ${o} \u2502 ${i} \u2502 ${s} \u2502 ${r} \u2502 \u2551`,"\u2551 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f \u2551","\u2551 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e \u2551","\u2551 \u2502      ValueSets     \u2502    CodeSystems    \u2502     Instances      \u2502 \u2551","\u2551 \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524 \u2551",`\u2551 \u2502 ${a} \u2502 ${c} \u2502 ${l} \u2502 \u2551`,"\u2551 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f \u2551","\u2551                                                                 \u2551","\u2560\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2563",`\u2551 ${p} ${d} ${u} \u2551`,"\u255a\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u255d"].forEach((e=>console.log(e)))}(a),a.profiles=a.profiles.map((e=>e.toJSON(!1))),a.extensions=a.extensions.map((e=>e.toJSON(!1))),a.logicals=a.logicals.map((e=>e.toJSON(!1))),a.resources=a.resources.map((e=>e.toJSON(!1))),a.instances=a.instances.filter((e=>"Inline"!==e._instanceMeta.usage)),a}function se(e,t){const n=[],o={packageId:ae(t),version:t};return re(e,o)||n.push(o),ce.filter((e=>null==e.fhirVersions||e.fhirVersions.some((e=>o.version.startsWith(e))))).forEach((t=>{const o={packageId:t.packageId,version:t.version,isAutomatic:!0};re(e,o,!0)||n.push(o)})),n}function re(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e.some((e=>e.packageId===t.packageId&&(n||e.version===t.version)))}function ae(e){return/^4\.0\.1$/.test(e)?"hl7.fhir.r4.core":/^4\.3\.\d+$/.test(e)?"hl7.fhir.r4b.core":/^5\.0\.\d+$/.test(e)?"hl7.fhir.r5.core":"hl7.fhir.r4.core"}const ce=[{packageId:"hl7.fhir.uv.tools",version:"latest"},{packageId:"hl7.terminology.r4",version:"latest",fhirVersions:["4.0","4.3"]},{packageId:"hl7.terminology.r5",version:"latest",fhirVersions:["5.0"]},{packageId:"hl7.fhir.uv.extensions.r4",version:"latest",fhirVersions:["4.0","4.3"]},{packageId:"hl7.fhir.uv.extensions.r5",version:"latest",fhirVersions:["5.0"]}];var le=n(1308),de=n(1302),ue=n(131),pe=n(3);const he=Object(s.a)((e=>({box:{padding:e.spacing(1),color:e.palette.text.primary,background:e.palette.background.paper,display:"flex;",alignItems:"center",justifyContent:"center"},rightControls:{position:"absolute",right:"24px"},leftControls:{position:"absolute",left:"28px"},secondaryButton:{color:e.palette.success.main,"&:hover":{background:e.palette.common.lighterBlue}},progressContainer:{width:"24px",height:"24px"},progress:{height:"1em !important",width:"1em !important",verticalAlign:"middle",color:e.palette.common.white},button:{color:e.palette.common.white,background:e.palette.success.main,borderRadius:"0",paddingRight:"15px",paddingLeft:"15px","&:hover":{background:e.palette.success.dark}},buttonLeft:{float:"right",left:"-3.33px"},buttonRight:{float:"left",right:"-0.67px"},runIcon:{padding:"0px"},dialogPaper:{maxHeight:"80vh",minHeight:"80vh"},dialogActions:{justifyContent:"space-between"},dialogActionsMessage:{fontStyle:"italic",padding:"6px 8px"}})));function ge(e,t){if("config"!==e)return t}function fe(e){const t=he(),[n,s]=Object(o.useState)(!1),[N,T]=Object(o.useState)(!1),[H,F]=Object(o.useState)(""),[E,D]=Object(o.useState)(""),[R,B]=Object(o.useState)(""),[G,L]=Object(o.useState)(""),[M,W]=Object(o.useState)(!1),[P,V]=Object(o.useState)(!1),[U,A]=Object(o.useState)(!1),[J,z]=Object(o.useState)(!1),[_,Y]=Object(o.useState)(""),[q,K]=Object(o.useState)("");Object(o.useEffect)((()=>{var t,n,o,i,s;F((null===(t=e.config)||void 0===t?void 0:t.canonical)||""),D((null===(n=e.config)||void 0===n?void 0:n.version)||""),B((null===(o=e.config)||void 0===o||null===(i=o.fhirVersion)||void 0===i?void 0:i.length)>0?e.config.fhirVersion.at(0):""),L((null===(s=e.config)||void 0===s?void 0:s.dependencies)||"")}),[e.config]);const Z=()=>{s(!1),Y("")},Q=()=>{T(!1),e.onConfigChange({canonical:H,version:E,fhirVersion:[R],dependencies:G,isGoFSHIndented:M})};const ee=n=>Object(pe.jsx)(le.a,{nodeId:n.id,label:n.name,children:n.children?n.children.map((n=>n.children?ee(n):(n=>Object(pe.jsx)(h.a,{title:e.exampleMetadata[n.id]&&e.exampleMetadata[n.id].description?e.exampleMetadata[n.id].description:n.name,placement:"bottom",arrow:!0,children:Object(pe.jsx)(le.a,{nodeId:n.id,label:n.name,className:t.treeItem},n.id)},n.id))(n))):null},n.id);return Object(pe.jsxs)(g.a,{className:t.box,children:[Object(pe.jsxs)(f.a,{container:!0,children:[Object(pe.jsx)(f.a,{item:!0,xs:5,children:Object(pe.jsxs)(x.a,{className:Object(i.a)(t.button,t.buttonLeft),onClick:async function(){if(e.isWaiting)return;e.resetLogMessages(),e.onSUSHIClick(!0,[""],!0),V(!0);const t=X(G),n={canonical:H||"http://example.org",version:E||"1.0.0",FSHOnly:!0,fhirVersion:R?[R]:["4.0.1"]},o=await ie(e.fshText,n,t);let i=JSON.stringify(o,ge,2);o&&o.codeSystems&&(o.codeSystems.length||o.extensions.length||o.instances.length||o.profiles.length||o.logicals.length||o.resources.length||o.valueSets.length)||(i=[""]),e.onSUSHIClick(!0,i,!1),V(!1)},testid:"Button",children:["Convert to JSON",P?Object(pe.jsx)("div",{className:t.progressContainer,children:Object(pe.jsx)(j.a,{className:t.progress})}):Object(pe.jsx)(r.a,{className:t.runIcon})]})}),Object(pe.jsx)(f.a,{item:!0,xs:7,children:Object(pe.jsxs)(x.a,{className:Object(i.a)(t.button,t.buttonRight),onClick:async function(){if(e.isWaiting)return;e.resetLogMessages(),e.onGoFSHClick("",!0),A(!0);const t=e.gofshText.map((e=>e.def)).filter((e=>e)),n=""===G?[]:G.split(",");if(H||E||""!==R){const e={resourceType:"ImplementationGuide",fhirVersion:R?[R]:["4.0.1"],id:"1",...H&&{url:`${H}/ImplementationGuide/1`},...E&&{version:E}};t.push(JSON.stringify(e,null,2))}const o={dependencies:n,indent:M},{fsh:i,config:s}=await oe(t,o);e.onGoFSHClick(i,!1),A(!1),""===H&&s.canonical&&F(s.canonical),""===E&&s.version&&D(s.version),""===R&&s.fhirVersion&&B(s.fhirVersion.at(0))},testid:"GoFSH-button",children:[U?Object(pe.jsx)("div",{className:t.progressContainer,children:Object(pe.jsx)(j.a,{className:t.progress})}):Object(pe.jsx)(r.a,{className:t.runIcon,style:{transform:"scaleX(-1)"}}),"Convert to FSH"]})})]}),Object(pe.jsx)("div",{className:t.leftControls,children:Object(pe.jsxs)(x.a,{name:"Examples",className:t.button,onClick:()=>{s(!0)},children:[Object(pe.jsx)(a.a,{})," \xa0 FSH Examples"]})}),Object(pe.jsxs)("div",{className:t.rightControls,children:[Object(pe.jsxs)(x.a,{name:"SaveAll",className:t.secondaryButton,onClick:e.saveAll,children:[Object(pe.jsx)(c.a,{})," Save All"]}),Object(pe.jsxs)(x.a,{name:"Configuration",className:t.secondaryButton,onClick:()=>{T(!0)},children:[Object(pe.jsx)(l.a,{})," Configuration"]})]}),Object(pe.jsxs)(b.a,{open:N,onClose:Q,"aria-labelledby":"form-dialog-title",children:[Object(pe.jsx)(m.a,{id:"form-dialog-title",children:"Configuration Settings"}),Object(pe.jsxs)(O.a,{children:[Object(pe.jsx)(v.a,{children:"Change the Implementation Guide configuration to use when processing FSH and FHIR JSON"}),Object(pe.jsx)(y.a,{id:"canonical",margin:"dense",fullWidth:!0,label:"Canonical URL",helperText:"Default: http://example.org",defaultValue:H,onChange:e=>{const t=e.target.value;F(t)}}),Object(pe.jsx)(y.a,{id:"version",margin:"dense",fullWidth:!0,label:"Version",helperText:"Default: 1.0.0",defaultValue:E,onChange:e=>{const t=e.target.value;D(t)}}),Object(pe.jsxs)(y.a,{id:"fhir-version-select",margin:"dense",fullWidth:!0,select:!0,label:"FHIR Version",helperText:"Default: 4.0.1 (R4)",value:R,onChange:e=>{const t=e.target.value;B(t)},children:[Object(pe.jsx)(S.a,{value:"4.0.1",children:"4.0.1 (R4)"}),Object(pe.jsx)(S.a,{value:"4.3.0",children:"4.3.0 (R4B)"}),Object(pe.jsx)(S.a,{value:"5.0.0",children:"5.0.0 (R5)"})]}),Object(pe.jsx)(y.a,{id:"dependencies",margin:"dense",fullWidth:!0,label:"Dependencies",helperText:"Format: packageId#version, packageId#version (e.g., hl7.fhir.us.core#6.0.0)",defaultValue:G,onChange:e=>{const t=e.target.value;L(t)}}),Object(pe.jsx)(w.a,{id:"goFSHIndent",margin:"dense",control:Object(pe.jsx)(C.a,{checked:M,color:"primary"}),label:"Indent output of Convert to FSH",onChange:e=>{const t=e.target.checked;W(t)}}),Object(pe.jsx)(k.a,{children:"If set, Convert to FSH will output FSH using path rules"})]}),Object(pe.jsx)(I.a,{children:Object(pe.jsx)(x.a,{onClick:Q,color:"primary",children:"Done"})})]}),Object(pe.jsxs)(b.a,{open:n,onClose:Z,"aria-labelledby":"form-dialog-title",maxWidth:"lg",fullWidth:!0,scroll:"paper",classes:{paper:t.dialogPaper},children:[Object(pe.jsx)(m.a,{id:"form-dialog-title",children:"FSH Examples"}),Object(pe.jsx)(O.a,{children:Object(pe.jsxs)(f.a,{container:!0,style:{overflow:"scroll",minHeight:"64vh"},children:[Object(pe.jsx)(f.a,{item:!0,xs:4,children:Object(pe.jsx)(de.a,{className:t.treeView,defaultCollapseIcon:Object(pe.jsx)(d.a,{}),defaultExpandIcon:Object(pe.jsx)(u.a,{}),onNodeSelect:async function(t,n){if(!n.endsWith(".fsh"))return;const o=e.exampleMetadata[n];z(!0),K(o.name);const i=new TextDecoder("utf-8");let s=await fetch(o.path).then((e=>e.body.getReader())),r="";const{value:a}=await s.read();r+=i.decode(a),z(!1),Y(r)},children:e.exampleConfig.map((e=>ee(e)))})}),Object(pe.jsx)(f.a,{item:!0,xs:8,children:Object(pe.jsx)(ue.a,{name:_?q:"",isExamples:!0,value:_,initialText:_,updateTextValue:function(e){Y(e)},mode:"fsh",placeholder:J?"Fetching example...":"Select an example"})})]})}),Object(pe.jsxs)(I.a,{className:t.dialogActions,children:[Object(pe.jsxs)("div",{className:t.dialogActionsMessage,children:["Have an example that might be bene-fish-al? Seas the day and add to our collection on"," ",Object(pe.jsx)($.a,{href:"https://github.com/FSHSchool/FSHOnline-Examples#readme",children:"GitHub"}),"!"]}),Object(pe.jsxs)("div",{children:[Object(pe.jsxs)(x.a,{onClick:function(){navigator.clipboard.writeText(_)},color:"primary",children:[Object(pe.jsx)(p.a,{})," Copy to clipboard"]}),Object(pe.jsx)(x.a,{onClick:Z,color:"secondary",children:"Close"})]})]})]})]})}},501:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));n(0);var o=n(313),i=n(1282),s=n(1284),r=n(507),a=n(225),c=n(163),l=n(1305),d=n(1285),u=n.p+"static/media/FSH-online-logo.1322e272.png",p=n(3);const h=Object(o.a)((e=>({root:{background:e.palette.common.blue,position:"static",boxShadow:"0"},title:{fontSize:20,fontWeight:700},logo:{height:"55px",width:"63px"},toolbarBox:{alignItems:"center"},exitIcon:{paddingLeft:"3px",transform:"scaleX(-1)"},docButton:{color:e.palette.common.white,backgroundColor:e.palette.common.blue,fontSize:"0.875rem",fontWeight:700,"&:hover":{background:e.palette.common.lightBlue}},versionText:{color:e.palette.common.white,fontSize:"0.8rem",fontStyle:"italic",marginTop:"-5px"}})));function g(){const e=h();return Object(p.jsx)(i.a,{className:e.root,children:Object(p.jsx)(s.a,{children:Object(p.jsxs)(r.a,{className:e.toolbarBox,display:"flex",flexGrow:1,flexDirection:"row",children:[Object(p.jsxs)(r.a,{order:1,display:"flex",flexGrow:1,flexDirection:"row",children:[Object(p.jsx)(r.a,{order:1,alignSelf:"center",display:"flex",children:Object(p.jsx)("img",{src:u,alt:"logo",className:e.logo})}),Object(p.jsx)(r.a,{order:2,alignSelf:"center",m:1,children:Object(p.jsxs)(l.b,{injectFirst:!0,children:[Object(p.jsx)(a.a,{order:1,className:e.title,children:"FSH ONLINE"}),Object(p.jsx)(a.a,{order:2,className:e.versionText,children:"Powered by SUSHI v3.9.0 and GoFSH v2.3.1"})]})})]}),Object(p.jsx)(r.a,{order:1,children:Object(p.jsx)(l.b,{injectFirst:!0,children:Object(p.jsxs)(c.a,{className:e.docButton,href:"https://fshschool.org/",target:"_blank",children:[Object(p.jsx)(d.a,{className:e.exitIcon,fontSize:"small"}),"Back to School"]})})})]})})})}},523:function(e,t,n){},528:function(e,t){},530:function(e,t){},581:function(e,t,n){},633:function(e,t){},635:function(e,t){},651:function(e,t){},653:function(e,t){},98:function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return w})),n.d(t,"a",(function(){return R})),n.d(t,"b",(function(){return B}));var o=n(0),i=n(94),s=n(126),r=n.n(s),a=n(489),c=n.n(a),l=n(9),d=n(8),u=n(313),p=n(312),h=n(1253),g=n(226),f=n(209),x=n(501),j=n(494),b=n(497),m=n(498),O=n(500),v=n(3);const y=Object(u.a)((e=>({container:{height:"100%",flexGrow:1},fullHeightGrid:{height:"100%"},editorPane:{flexGrow:"0"},resize:{height:"100%",width:"4px",cursor:"col-resize","&:hover":{background:S.lightBlue}},resizeBlue:{background:"#487AA2"},resizeCursor:{cursor:"col-resize"},collapsedMain:{width:"100%",height:"calc(100vh - 116px - 300px)"},expandedMain:{width:"100%",height:"calc(100vh - 116px - 34px)"},collapsedConsole:{height:"25px",width:"100%"},expandedConsole:{height:"300px",width:"100%"},top:{height:"116px"}}))),S={lighterBlue:"#D8E2EA",lightBlue:"#487AA2",blue:"#30638e",darkerBlue:"#143E61",editorGrey:"#263238",lightestGrey:"#E7ECEE",lightGrey:"#D0D9DD",grey:"#575B5C",darkerGrey:"#3D4345",darkestGrey:"#121D21",red:"#FD6668"},w=Object(p.a)({palette:{success:{main:S.blue,dark:S.darkerBlue,light:S.lightBlue},common:S},typography:{fontFamily:"Open Sans"},overrides:{MuiTooltip:{tooltip:{backgroundColor:S.darkestGrey,fontSize:"13px"},arrow:{color:S.darkestGrey}},MuiButton:{text:{textTransform:"none",fontWeight:600}},MuiIconButton:{root:{"&:hover":{backgroundColor:S.grey}}}}}),C="https://raw.githubusercontent.com/FSHSchool/FSHOnline-Examples/main/",k=(console.log,"There are no messages to display in the console."),I="There are no problems to display in the console.";let $=[k],N=[I],T=0,H="#FDD835",F={};function E(e){e.forEach((e=>{"category"===e.type&&E(e.children),e.id=e.path.replaceAll("%20","-"),"file"===e.type&&(F[e.id]={path:`${C}/Examples/${e.path}`,description:e.description,name:e.name}),delete e.type,delete e.path}))}async function D(){let e=await fetch(`${C}/index.json`).then((e=>e.json()));return E(e.children),[...e.children]}console.log=function(e){e&&(e.startsWith("error")||e.startsWith("warn"))&&(N[0]===I&&(N=[]),T++,N.push(e),e.startsWith("error")&&(H="#FD6668")),$[0]===k&&($=[]),$.push(e)};const R=Object(o.createContext)(!1);function B(t){const n=y(),s=t.match,[a,u]=Object(o.useState)(!1),[p,S]=Object(o.useState)(""),[C,E]=Object(o.useState)([""]),[B,G]=Object(o.useState)(""),[L,M]=Object(o.useState)(!1),[W,P]=Object(o.useState)(!1),[V,U]=Object(o.useState)(!1),[A,J]=Object(o.useState)([]),[z,_]=Object(o.useState)({}),[X,Y]=Object(o.useState)(41.666667),[q,K]=Object(o.useState)(!1),[Z,Q]=Object(o.useState)({canonical:"",version:"",fhirVersion:[],dependencies:""}),[ee,te]=Object(o.useState)({});function ne(e){e.preventDefault(),K(!1)}function oe(e){if(q){const t=e/window.innerWidth*100;t>10&&t<76&&Y(t)}}function ie(e,t){if(t.get(e)){let n=t.get(e),o=`${e}-${n}`;for(;t.get(o);)n+=1,o=`${e}-${n}`;t.set(e,n+1),e=o,t.set(o,1)}else t.set(e,1);return e}return Object(o.useEffect)((()=>{!async function(){if(/\/share/.test(s.path)){const n=await async function(t){if(void 0===t.text)return"";{const n=await Object(f.a)(t),o=n.long_url.slice(40);return n.long_url.includes("https://fshschool.org/FSHOnline/#/share/")&&0!==o.length?Object(i.inflateSync)(e.from(o,"base64")).toString("utf-8"):""}}(s.params),o=n.indexOf("\n"),r=n.slice(0,o);let a,c=n;try{const e=JSON.parse(r);null!=e.c&&null!=e.v&&null!=e.d&&(a={canonical:e.c,version:e.v,fhirVersion:e.f||[],dependencies:e.d},c=n.slice(o+1))}catch(t){}te(a||{}),G(c)}else if(/\/gist/.test(s.path)){const e=await async function(e){const t=await fetch(`https://api.github.com/gists/${e}`).then((e=>e.json()));let n="";for(let o of Object.values((null===t||void 0===t?void 0:t.files)||{}))o.truncated?n+=await fetch(o.raw_url).then((e=>e.text())):n+=o.content,n+="\n\n";return n.trim()}(s.params.id);G(e)}}(),async function(){J(await D()),_(F)}()}),[s]),Object(v.jsx)(h.a,{theme:w,children:Object(v.jsxs)("div",{className:"root",style:{height:"100vh"},children:[Object(v.jsxs)("div",{className:n.top,children:[Object(v.jsx)(x.a,{}),Object(v.jsx)(O.a,{onSUSHIClick:function(e,t,n){u(e),E(t),M(n)},onGoFSHClick:function(e,t){P(t),G(""===e?null:e)},onConfigChange:function(e){Q(e)},config:ee,fshText:p,gofshText:C,resetLogMessages:function(){$=[k],N=[I],T=0,H="#FDD835"},exampleConfig:A,exampleMetadata:z,isWaiting:W||L,saveAll:function(){const e=new Map,t=new c.a;t.file("FSH.fsh",p);const[n,o]=Object(l.partition)(C,(e=>e.id&&"Untitled"!==e.id));n.forEach((n=>{var o,i;let s;try{s=JSON.parse(n.def)}catch{}const r=ie(null!==(o=s)&&void 0!==o&&o.resourceType?`${s.resourceType}-${n.id}`:n.id,e),a=null!==(i=n.def)&&void 0!==i?i:null;t.file(`${r}.json`,a)})),o.forEach((n=>{var o,i;let s;try{s=JSON.parse(n.def)}catch{}const r=null!==(o=n.id)&&void 0!==o?o:"Untitled",a=ie(s.resourceType?`${s.resourceType}-${r}`:r,e),c=null!==(i=n.def)&&void 0!==i?i:null;t.file(`${a}.json`,c)})),t.generateAsync({type:"blob"}).then((e=>{r.a.saveAs(e,"fshonline.zip")}))}})]}),Object(v.jsx)("div",{className:V?n.collapsedMain:n.expandedMain,children:Object(v.jsx)(R.Provider,{value:V,children:Object(v.jsxs)(g.a,{className:Object(d.a)(n.container,q&&n.resizeCursor),container:!0,onTouchMove:function(e){const t=e.touches[0].clientX;q&&Object(l.debounce)((()=>oe(t)),10)()},onMouseMove:function(e){const t=e.clientX;q&&Object(l.debounce)((()=>oe(t)),10)()},onMouseUp:ne,onMouseLeave:ne,children:[Object(v.jsx)(g.a,{item:!0,className:Object(d.a)(n.fullHeightGrid,n.editorPane),style:{maxWidth:`calc(${X}% - 2px)`,flexBasis:`calc(${X}% - 2px)`},children:Object(v.jsx)(b.a,{text:p,initialText:B,updateTextValue:function(e){""!==B&&null!==B||G(e),S(e)},isWaiting:W,setInitialText:G,config:Z})}),Object(v.jsx)(g.a,{item:!0,className:Object(d.a)(n.resize,q&&n.resizeBlue),onTouchStart:function(){K(!0)},onTouchEnd:function(){K(!1)},onMouseDown:function(e){e.preventDefault(),K(!0)},onDoubleClick:function(){Y(41.666667)}}),Object(v.jsx)(g.a,{item:!0,className:Object(d.a)(n.fullHeightGrid,n.editorPane),style:{maxWidth:`calc(${100-X}% - 2px)`,flexBasis:`calc(${100-X}% - 2px)`},children:Object(v.jsx)(j.a,{text:C,showNewText:a,setShowNewText:u,isWaiting:L,updateTextValue:function(e){E(e)}})})]})})}),Object(v.jsx)("div",{className:V?n.expandedConsole:n.collapsedConsole,children:Object(v.jsx)(m.a,{consoleMessages:$,problemMessages:N,problemCount:T,problemColor:H,expandConsole:V,setExpandConsole:U})})]})})}}).call(this,n(17).Buffer)}},[[1238,1,2]]]);
//# sourceMappingURL=main.514758f8.chunk.js.map